import{m as v,k as q,c as C}from"./swiper-slide-080c981c.js";function k(e){const{effect:o,swiper:t,on:d,setTranslate:u,setTransition:r,overwriteParams:n,perspective:s,recreateShadows:i,getEffectParams:m}=e;d("beforeInit",()=>{if(t.params.effect!==o)return;t.classNames.push(`${t.params.containerModifierClass}${o}`),s&&s()&&t.classNames.push(`${t.params.containerModifierClass}3d`);const l=n?n():{};Object.assign(t.params,l),Object.assign(t.originalParams,l)}),d("setTranslate",()=>{t.params.effect===o&&u()}),d("setTransition",(l,f)=>{t.params.effect===o&&r(f)}),d("transitionEnd",()=>{if(t.params.effect===o&&i){if(!m||!m().slideShadows)return;t.slides.forEach(l=>{l.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(f=>f.remove())}),i()}});let p;d("virtualUpdate",()=>{t.params.effect===o&&(t.slides.length||(p=!0),requestAnimationFrame(()=>{p&&t.slides&&t.slides.length&&(u(),p=!1)}))})}function A(e,o){const t=v(o);return t!==o&&(t.style.backfaceVisibility="hidden",t.style["-webkit-backface-visibility"]="hidden"),t}function N({swiper:e,duration:o,transformElements:t,allSlides:d}){const{activeIndex:u}=e,r=n=>n.parentElement?n.parentElement:e.slides.filter(i=>i.shadowEl&&i.shadowEl===n.parentNode)[0];if(e.params.virtualTranslate&&o!==0){let n=!1,s;d?s=t:s=t.filter(i=>{const m=i.classList.contains("swiper-slide-transform")?r(i):i;return e.getSlideIndex(m)===u}),s.forEach(i=>{q(i,()=>{if(n||!e||e.destroyed)return;n=!0,e.animating=!1;const m=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0});e.wrapperEl.dispatchEvent(m)})})}}function D(e,o,t){const d=`swiper-slide-shadow${t?`-${t}`:""}`,u=v(o);let r=u.querySelector(`.${d}`);return r||(r=C("div",`swiper-slide-shadow${t?`-${t}`:""}`),u.append(r)),r}function V({swiper:e,extendParams:o,on:t}){o({cardsEffect:{slideShadows:!0,rotate:!0,perSlideRotate:2,perSlideOffset:8}}),k({effect:"cards",swiper:e,on:t,setTranslate:()=>{const{slides:r,activeIndex:n}=e,s=e.params.cardsEffect,{startTranslate:i,isTouched:m}=e.touchEventsData,p=e.translate;for(let l=0;l<r.length;l+=1){const f=r[l],M=f.progress,a=Math.min(Math.max(M,-4),4);let g=f.swiperSlideOffset;e.params.centeredSlides&&!e.params.cssMode&&(e.wrapperEl.style.transform=`translateX(${e.minTranslate()}px)`),e.params.centeredSlides&&e.params.cssMode&&(g-=r[0].swiperSlideOffset);let h=e.params.cssMode?-g-e.translate:-g,E=0;const y=-100*Math.abs(a);let S=1,T=-s.perSlideRotate*a,$=s.perSlideOffset-Math.abs(a)*.75;const b=e.virtual&&e.params.virtual.enabled?e.virtual.from+l:l,w=(b===n||b===n-1)&&a>0&&a<1&&(m||e.params.cssMode)&&p<i,x=(b===n||b===n+1)&&a<0&&a>-1&&(m||e.params.cssMode)&&p>i;if(w||x){const c=(1-Math.abs((Math.abs(a)-.5)/.5))**.5;T+=-28*a*c,S+=-.5*c,$+=96*c,E=`${-25*c*Math.abs(a)}%`}if(a<0?h=`calc(${h}px + (${$*Math.abs(a)}%))`:a>0?h=`calc(${h}px + (-${$*Math.abs(a)}%))`:h=`${h}px`,!e.isHorizontal()){const c=E;E=h,h=c}const P=a<0?`${1+(1-S)*a}`:`${1-(1-S)*a}`,I=`
        translate3d(${h}, ${E}, ${y}px)
        rotateZ(${s.rotate?T:0}deg)
        scale(${P})
      `;if(s.slideShadows){let c=f.querySelector(".swiper-slide-shadow");c||(c=D(s,f)),c&&(c.style.opacity=Math.min(Math.max((Math.abs(a)-.5)/.5,0),1))}f.style.zIndex=-Math.abs(Math.round(M))+r.length;const O=A(s,f);O.style.transform=I}},setTransition:r=>{const n=e.slides.map(s=>v(s));n.forEach(s=>{s.style.transitionDuration=`${r}ms`,s.querySelectorAll(".swiper-slide-shadow").forEach(i=>{i.style.transitionDuration=`${r}ms`})}),N({swiper:e,duration:r,transformElements:n})},perspective:()=>!0,overwriteParams:()=>({watchSlidesProgress:!0,virtualTranslate:!e.params.cssMode})})}export{V as E,A as a,N as b,D as c,k as e};
